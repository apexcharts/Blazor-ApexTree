@page "/organization"

<PageTitle>Organization Chart - BlazorApexTree</PageTitle>

<h1>Organization Chart with Enhanced Tooltips</h1>

<p>A realistic organizational chart example with employee details. Hover over nodes to see detailed information in tooltips including department, email, and tenure.</p>


<div class="tree-container">
    <ApexTree Options="@options" Data="@data" />
</div>

@code {
    private TreeOptions options = new()
    {
        Width = 1000,
        Height = 650,
        Direction = "top",
        ContentKey = "data",
        NodeWidth = 180,
        NodeHeight = 85,
        ChildrenSpacing = 90,
        SiblingSpacing = 35,
        EnableToolbar = true,
        HighlightOnHover = true,
        BorderWidth = 2,
        BorderRadius = "10px",
        FontSize = "13px",
        FontWeight = "600",
        NodeTemplate = GetNodeTemplate(),
        EnableTooltip = true,
        TooltipMaxWidth = 320,
        TooltipBGColor = "#ffffff",
        TooltipBorderColor = "#cbd5e0",
        TooltipPadding = 0,
        TooltipOffset = 12,
        TooltipTemplate = GetEmployeeTooltipTemplate(),
        CanvasStyle = "border: 2px solid #1e3a8a; background: linear-gradient(to bottom, #eff6ff, #dbeafe); border-radius: 12px;"
    };

    private static string GetNodeTemplate()
    {
        var template = @"(content) => {
            const name = content.name || content.title || 'Employee';
            return `<div style='display: flex; justify-content: center; align-items: center; text-align: center; height: 100%; padding: 10px;'>${name}</div>`;
        }";
        
        return template;
    }

    private static string GetEmployeeTooltipTemplate()
    {
        var template = @"(content) => {
            const data = typeof content === 'object' ? content : { name: content };
            
            return `
                <div style='padding: 12px; font-family: system-ui, sans-serif;'>
                    <div style='font-weight: 700; font-size: 14px; color: #1e3a8a; margin-bottom: 8px;'>
                       ${data.name} | ${data.title || 'Employee'}
                    </div>
                    ${data.department ? `
                        <div style='font-size: 12px; color: #64748b; margin-bottom: 4px;'>
                            <span style='font-weight: 600;'>üè¢ Department:</span> ${data.department}
                        </div>
                    ` : ''}
                    ${data.email ? `
                        <div style='font-size: 12px; color: #64748b; margin-bottom: 4px;'>
                            <span style='font-weight: 600;'>üìß Email:</span> ${data.email}
                        </div>
                    ` : ''}
                    ${data.yearsWithCompany ? `
                        <div style='font-size: 12px; color: #64748b; margin-bottom: 4px;'>
                            <span style='font-weight: 600;'>üìÖ Tenure:</span> ${data.yearsWithCompany} years
                        </div>
                    ` : ''}
                    ${data.teamSize ? `
                        <div style='font-size: 12px; color: #64748b;'>
                            <span style='font-weight: 600;'>üë• Team Size:</span> ${data.teamSize} people
                        </div>
                    ` : ''}
                </div>
            `;
        }";
        
        return template;
    }

    private NodeData data = new()
    {
        Id = "ceo",
        Name = "Jennifer Martinez",
        Data = new
        {
            name = "Jennifer Martinez",
            title = "Chief Executive Officer",
            department = "Executive Leadership",
            email = "j.martinez@techcorp.com",
            yearsWithCompany = 8,
            teamSize = 87
        },
        Options = new NodeOptions
        {
            NodeBGColor = "#1e3a8a",
            NodeBGColorHover = "#1e40af",
            BorderColor = "#1e3a8a",
            FontColor = "#ffffff",
            FontSize = "14px",
            FontWeight = "700"
        },
        Children = new List<NodeData>
        {
            new()
            {
                Id = "cto",
                Name = "Michael Chen",
                Data = new
                {
                    name = "Michael Chen",
                    title = "Chief Technology Officer",
                    department = "Engineering",
                    email = "m.chen@techcorp.com",
                    yearsWithCompany = 6,
                    teamSize = 35
                },
                Options = new NodeOptions
                {
                    NodeBGColor = "#7c3aed",
                    NodeBGColorHover = "#6d28d9",
                    BorderColor = "#7c3aed",
                    FontColor = "#ffffff"
                },
                Children = new List<NodeData>
                {
                    new()
                    {
                        Id = "vp-eng",
                        Name = "Sarah Johnson",
                        Data = new
                        {
                            name = "Sarah Johnson",
                            title = "VP of Engineering",
                            department = "Software Development",
                            email = "s.johnson@techcorp.com",
                            yearsWithCompany = 4,
                            teamSize = 25
                        },
                        Options = new NodeOptions
                        {
                            NodeBGColor = "#8b5cf6",
                            NodeBGColorHover = "#7c3aed",
                            BorderColor = "#7c3aed",
                            FontColor = "#ffffff"
                        },
                        Children = new List<NodeData>
                        {
                            new()
                            {
                                Id = "backend-lead",
                                Name = "Alex Rodriguez",
                                Data = new
                                {
                                    name = "Alex Rodriguez",
                                    title = "Backend Team Lead",
                                    department = "Backend Engineering",
                                    email = "a.rodriguez@techcorp.com",
                                    yearsWithCompany = 3,
                                    teamSize = 8
                                },
                                Options = new NodeOptions
                                {
                                    NodeBGColor = "#a78bfa",
                                    NodeBGColorHover = "#8b5cf6",
                                    BorderColor = "#7c3aed",
                                    FontColor = "#ffffff"
                                }
                            },
                            new()
                            {
                                Id = "frontend-lead",
                                Name = "Emma Wilson",
                                Data = new
                                {
                                    name = "Emma Wilson",
                                    title = "Frontend Team Lead",
                                    department = "Frontend Engineering",
                                    email = "e.wilson@techcorp.com",
                                    yearsWithCompany = 3,
                                    teamSize = 7
                                },
                                Options = new NodeOptions
                                {
                                    NodeBGColor = "#a78bfa",
                                    NodeBGColorHover = "#8b5cf6",
                                    BorderColor = "#7c3aed",
                                    FontColor = "#ffffff"
                                }
                            },
                            new()
                            {
                                Id = "mobile-lead",
                                Name = "David Kim",
                                Data = new
                                {
                                    name = "David Kim",
                                    title = "Mobile Team Lead",
                                    department = "Mobile Engineering",
                                    email = "d.kim@techcorp.com",
                                    yearsWithCompany = 2,
                                    teamSize = 6
                                },
                                Options = new NodeOptions
                                {
                                    NodeBGColor = "#a78bfa",
                                    NodeBGColorHover = "#8b5cf6",
                                    BorderColor = "#7c3aed",
                                    FontColor = "#ffffff"
                                }
                            }
                        }
                    },
                    new()
                    {
                        Id = "devops-dir",
                        Name = "James Thompson",
                        Data = new
                        {
                            name = "James Thompson",
                            title = "Director of DevOps",
                            department = "Infrastructure",
                            email = "j.thompson@techcorp.com",
                            yearsWithCompany = 5,
                            teamSize = 10
                        },
                        Options = new NodeOptions
                        {
                            NodeBGColor = "#8b5cf6",
                            NodeBGColorHover = "#7c3aed",
                            BorderColor = "#7c3aed",
                            FontColor = "#ffffff"
                        }
                    }
                }
            },
            new()
            {
                Id = "cfo",
                Name = "Robert Garcia",
                Data = new
                {
                    name = "Robert Garcia",
                    title = "Chief Financial Officer",
                    department = "Finance",
                    email = "r.garcia@techcorp.com",
                    yearsWithCompany = 7,
                    teamSize = 18
                },
                Options = new NodeOptions
                {
                    NodeBGColor = "#0891b2",
                    NodeBGColorHover = "#0e7490",
                    BorderColor = "#0891b2",
                    FontColor = "#ffffff"
                },
                Children = new List<NodeData>
                {
                    new()
                    {
                        Id = "controller",
                        Name = "Linda Martinez",
                        Data = new
                        {
                            name = "Linda Martinez",
                            title = "Financial Controller",
                            department = "Accounting",
                            email = "l.martinez@techcorp.com",
                            yearsWithCompany = 5,
                            teamSize = 8
                        },
                        Options = new NodeOptions
                        {
                            NodeBGColor = "#06b6d4",
                            NodeBGColorHover = "#0891b2",
                            BorderColor = "#0891b2",
                            FontColor = "#ffffff"
                        }
                    },
                    new()
                    {
                        Id = "treasury",
                        Name = "Daniel Brown",
                        Data = new
                        {
                            name = "Daniel Brown",
                            title = "Treasury Manager",
                            department = "Treasury",
                            email = "d.brown@techcorp.com",
                            yearsWithCompany = 4,
                            teamSize = 5
                        },
                        Options = new NodeOptions
                        {
                            NodeBGColor = "#06b6d4",
                            NodeBGColorHover = "#0891b2",
                            BorderColor = "#0891b2",
                            FontColor = "#ffffff"
                        }
                    }
                }
            },
            new()
            {
                Id = "cmo",
                Name = "Jessica Davis",
                Data = new
                {
                    name = "Jessica Davis",
                    title = "Chief Marketing Officer",
                    department = "Marketing",
                    email = "j.davis@techcorp.com",
                    yearsWithCompany = 5,
                    teamSize = 22
                },
                Options = new NodeOptions
                {
                    NodeBGColor = "#059669",
                    NodeBGColorHover = "#047857",
                    BorderColor = "#059669",
                    FontColor = "#ffffff"
                },
                Children = new List<NodeData>
                {
                    new()
                    {
                        Id = "digital-marketing",
                        Name = "Sophia Lee",
                        Data = new
                        {
                            name = "Sophia Lee",
                            title = "Digital Marketing Director",
                            department = "Digital Marketing",
                            email = "s.lee@techcorp.com",
                            yearsWithCompany = 3,
                            teamSize = 10
                        },
                        Options = new NodeOptions
                        {
                            NodeBGColor = "#10b981",
                            NodeBGColorHover = "#059669",
                            BorderColor = "#059669",
                            FontColor = "#ffffff"
                        }
                    },
                    new()
                    {
                        Id = "content",
                        Name = "Maria Rodriguez",
                        Data = new
                        {
                            name = "Maria Rodriguez",
                            title = "Content Manager",
                            department = "Content Marketing",
                            email = "m.rodriguez@techcorp.com",
                            yearsWithCompany = 2,
                            teamSize = 7
                        },
                        Options = new NodeOptions
                        {
                            NodeBGColor = "#10b981",
                            NodeBGColorHover = "#059669",
                            BorderColor = "#059669",
                            FontColor = "#ffffff"
                        }
                    }
                }
            },
            new()
            {
                Id = "chro",
                Name = "Patricia Anderson",
                Data = new
                {
                    name = "Patricia Anderson",
                    title = "Chief Human Resources Officer",
                    department = "Human Resources",
                    email = "p.anderson@techcorp.com",
                    yearsWithCompany = 6,
                    teamSize = 12
                },
                Options = new NodeOptions
                {
                    NodeBGColor = "#dc2626",
                    NodeBGColorHover = "#b91c1c",
                    BorderColor = "#dc2626",
                    FontColor = "#ffffff"
                },
                Children = new List<NodeData>
                {
                    new()
                    {
                        Id = "talent",
                        Name = "Christopher White",
                        Data = new
                        {
                            name = "Christopher White",
                            title = "Talent Acquisition Manager",
                            department = "Recruiting",
                            email = "c.white@techcorp.com",
                            yearsWithCompany = 3,
                            teamSize = 6
                        },
                        Options = new NodeOptions
                        {
                            NodeBGColor = "#ef4444",
                            NodeBGColorHover = "#dc2626",
                            BorderColor = "#dc2626",
                            FontColor = "#ffffff"
                        }
                    }
                }
            }
        }
    };
}

<style>

    .tree-container {
        display: flex;
        justify-content: center;
        padding: 2rem;
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        margin-bottom: 2rem;
    }

    .legend-section {
        background: white;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        border: 1px solid #e2e8f0;
    }

    .legend-section h3 {
        margin-top: 0;
        margin-bottom: 0.75rem;
        color: #2d3748;
        font-size: 1.25rem;
    }

    .legend-section > p {
        color: #4a5568;
        margin-bottom: 1.5rem;
    }

    .legend-items {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 1rem;
    }

    .legend-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem;
        background: #f8f9fa;
        border-radius: 8px;
        border: 1px solid #e2e8f0;
    }

    .legend-item .icon {
        font-size: 1.5rem;
    }

    .legend-item span:last-child {
        color: #2d3748;
        font-weight: 500;
    }
</style>